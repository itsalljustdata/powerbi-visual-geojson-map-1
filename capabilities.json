{
	"suppressDefaultTitle":true,
	"supportsHighlight": false,
	"objects": {
		"StateRoadSettings":{
			"displayName": "State Roads",
			"description": "huh?",
			"properties": {
				"show":{
					"displayName": "Show State Roads",
					"description": "huh?",
					"type": {"bool":true}
				},
				"color":{
					"displayName": "State Road Colour",
					"description": "huh?",
					"type": {
						"fill": {
							"solid": {
								"color":true
							}
						}
					}
				},
				"opacity":{
					"displayName": "State Road Opacity",
					"description": "huh?",
					"type": {
						"numeric": true
					}
				}
			}
		},
		"BackgroundImageSettings":{
			"displayName": "Background Image",
			"description": "huh?",
			"properties": {
				"Metromap":{
					"displayName": "MetroMap",
					"description": "huh?",
					"type":{"bool": true}
				}
			}
		}
	},
	"dataRoles": [
		{
			"displayName": "GeoJson Feature",
			"description": "Provide a single column of type text, where each row is a single valid GeoJSON Feature: {\"type\":\"Feature\", ...}. CRS is assumed to be EPSG:4326 aka WGS84",
			"name": "geojson_field", 
			"kind": "GroupingOrMeasure"
		},
		{
			"displayName": "Popup Info",
			"description": "When map features are clicked a popup will show the data in the following columns.",
			"name": "other_columns",
			"kind": "GroupingOrMeasure"
		}
		,
		{
			"displayName": "Colour",
			"description": "Features will be coloured using this field. Any valid CSS colour strings is accepted.",
			"name": "colour_column",
			"kind": "GroupingOrMeasure",
			"requiredTypes": [{
				"text": true
			}]
		},
		{
			"displayName": "Line Weight (px)",
			"description": "LineString features will use this line weight",
			"name": "line_weight_column",
			"kind": "GroupingOrMeasure",
			"requiredTypes": [{
				"text": true
			}]
		}
	],
	"dataViewMappings": [
		{
			"conditions": [{
				"geojson_field":{
					"max": 1,
					"min": 1
				},
				"colour_column":{
					"max": 1,
					"min": 0
				},
				"line_weight_column":{
					"max": 1,
					"min": 0
				}
			}],
			"table": {
				"rows": {
					"select": [
						{
							"for": {
								"in": "geojson_field"
							}
						},{
							"for": {
								"in":"other_columns"
							}
						},{
							"for": {
								"in":"colour_column"
							}
						},{
							"for": {
								"in":"line_weight_column"
							}
						}
					],
					"dataReductionAlgorithm": {
						"top": {
							"count": 30000
						}
					}
				}
			}
		}
	]
}
